# 📝 要件定義書（更新版）

by claude3.7

## 📋 目次

1. プロジェクト概要
2. 機能要件
3. 非機能要件
4. 技術スタック
5. データモデル
6. UI設計方針
7. 開発アプローチ
8. 実装状況

## 🚀 1. プロジェクト概要

「カタワク」は、3Dプリンター用の3Dモデルデータを共有・ダウンロードできるウェブプラットフォームです。特に食品関連の型枠（クッキー型、チョコレート型など）に特化し、「かわいさ」「おもしろさ」を強調した感性志向型モデルライブラリーとして、初心者にも使いやすいインターフェースと、親しみやすいデザインを提供します。

## 💻 2. 機能要件

### 2.1 必須要件（Must）

1. 👤 ユーザー認証 【実装済み】
    - Googleアカウント連携による簡単認証
    - 基本的なユーザープロフィール表示、修正（名前、アイコン）
2. 🗂️ 3Dモデルファイル管理 【実装済み】
    - 3Dモデルファイルのアップロード機能
    - 3Dモデルファイルのダウンロード機能
3. 🎨 UI/UX 【実装中】
    - シンプルなユーザーインターフェース
    - レスポンシブデザイン（スマホ/タブレット/PC対応）
    - 直感的で親しみやすいボタンデザイン
4. 🔍 検索・閲覧機能 【未実装】
    - 基本的な検索機能

🔧 その他

- バンブー製品への販売リンク設置 【未実装】
- Supabaseを使ったDBシステム 【実装済み】

### 2.2 画面構成

1. 🏠 ホーム画面 【実装中】
    - 人気モデル表示
    - 新着モデル表示
2. 📊 モデル詳細画面 【未実装】
    - モデル名、作者情報
    - モデル画像ギャラリー
    - モデル説明
    - ダウンロードボタン
3. 👤 ユーザー関連画面 【実装済み】
    - ログイン（グーグル認証）
    - マイページ（アップロードしたモデル一覧）
    - モデルアップロード画面
    - モデル編集・削除画面
4. 🔍 検索・閲覧関連画面 【未実装】
    - 検索結果表示画面

## ⚙️ 3. 非機能要件

### 3.1 パフォーマンス

- ページ読み込み速度： 3秒以内

### 3.2 セキュリティ 【実装済み】

- Googleアカウント認証によるセキュアなアクセス
- ユーザーデータの保護（RLSポリシーによる）
- ファイルアクセス制御

### 3.3 使いやすさ

- 技術的背景がないユーザーでも直感的に操作できるUI
- 明確なフィードバックとエラーメッセージ

### 3.4 拡張性

- 将来的な機能追加に対応できる設計
- 会員サブスクリプションモデルへの移行を想定した設計

## 🔧 4. 技術スタック

### 4.1 フロントエンド 【確定】

- Next.js 14 (App Router)
- React 18
- TailwindCSS

### 4.2 バックエンド 【確定】

- Supabase（グーグル認証連携、データベース、ストレージ）

### 4.3 デプロイ 【確定】

- Vercel

## 📊 5. データモデル 【実装済み】

### 5.1 ユーザーテーブル

- id (PK) - uuid
- name - text
- email - text
- avatar_url - text
- created_at - timestamp

### 5.2 モデルテーブル

- id (PK) - uuid
- user_id (FK) - uuid
- title - text
- description - text
- file_url - text
- thumbnail_url - text
- created_at - timestamp

## 🎨 6. UI設計方針

### 6.1 デザインシステム

- カラーパレット：明るく親しみやすい色調（「カタワク」コンセプトに合わせて）
- タイポグラフィ：読みやすさと可愛らしさのバランス
- アイコン・ボタンデザイン：直感的で親しみやすいスタイル

### 6.2 視覚的な差別化要素

- 3Dモデルのプレビュー表示（回転・拡大縮小機能）【未実装】
- 制作例の写真ギャラリー（完成イメージの視覚化）【未実装】
- 「かわいさ」「おもしろさ」を強調したビジュアル要素

## 📈 7. 開発アプローチ

### 7.1 開発方針

- シンプルさを重視
- 最小限の機能でスピーディにリリース
- 1人で運営可能な規模を維持
- 外部サービスを活用して開発工数削減

## 📋 8. 実装状況

### 8.1 実装済み機能

- Google OAuth認証フロー
- ユーザー管理システム
  - ユーザープロフィール表示
  - 自動ユーザー作成トリガー
- モデルアップロード機能
  - ファイルバリデーション
  - Supabaseストレージへの保存
  - メタデータのデータベース登録
- モデル表示機能
  - モデル詳細表示
  - サムネイル表示
  - ダウンロードリンク
- モデル編集機能
  - タイトル・説明の編集
  - サムネイルの更新
- モデル削除機能
  - ストレージファイル削除
  - データベースレコード削除
- データベースRLSポリシー設定
- ストレージセキュリティ設定
- レスポンシブUI実装
  - ヘッダー・フッター
  - ホームページ
  - プロフィールページ

### 8.2 未実装機能

- 検索機能
- 3Dモデルビューア
- モデルのカテゴリ分類
- タグ付け機能
- ユーザープロフィール編集
- バンブー製品への販売リンク設置